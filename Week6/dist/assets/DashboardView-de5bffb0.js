import{_ as u,r as l,o as _,c as h,e,g as s,bq as n,bu as v,i,aI as g,aF as k,I as $,F as f}from"./index-a232e2f3.js";const x={methods:{logout(){document.cookie="hexToken=; expires=;",alert("已登出!"),this.$router.push("/")}}},b=t=>(g("data-v-6add835e"),t=t(),k(),t),A={class:"header sticky-top"},I={class:"navbar navbar-expand-lg bg-dark h-100"},V={class:"container"},N=b(()=>e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1)),B={class:"collapse navbar-collapse",id:"navbarNav"},T={class:"navbar-nav text-white"},w={class:"nav-item me-3 text-decoration-none"},E={class:"nav-item me-3 text-decoration-none"},y={class:"nav-item me-3 text-decoration-none"},R={class:"nav-item me-3 text-decoration-none"},P={class:"nav-item me-3 text-decoration-none"};function C(t,a,c,p,m,r){const o=l("RouterLink");return _(),h("header",A,[e("nav",I,[e("div",V,[N,e("div",B,[e("ul",T,[e("li",w,[s(o,{class:"link-light link-hover",to:"/admin"},{default:n(()=>[i("後台")]),_:1})]),e("li",E,[s(o,{class:"link-light link-hover",to:"/admin/products"},{default:n(()=>[i("管理產品")]),_:1})]),e("li",y,[s(o,{class:"link-light link-hover",to:"/admin/orders"},{default:n(()=>[i("管理訂單")]),_:1})]),e("li",R,[s(o,{class:"link-light link-hover",to:"/"},{default:n(()=>[i("回首頁")]),_:1})]),e("li",P,[e("a",{href:"#",class:"link-light link-hover",onClick:a[0]||(a[0]=v((...d)=>r.logout&&r.logout(...d),["prevent"]))},"登出")])])])])])])}const D=u(x,[["render",C],["__scopeId","data-v-6add835e"]]),{VITE_API:S}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"benson-vue3",BASE_URL:"/Vue3-training-2022-Winter/Week6/dist/",MODE:"production",DEV:!1,PROD:!0},F={components:{AdminNavBar:D},data(){return{isAdmin:!1}},mounted(){this.checkAdmin()},methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${t}`;const a=`${S}/api/user/check`;t?this.$http.post(a).then(()=>{this.isAdmin=!0}).catch(c=>{alert(c.response.data.message),this.$router.push("/login")}):(alert("你尚未登入，請先完成登入!"),this.$router.push("/login"))}}},L={key:0,class:"container"},M=e("h2",{class:"text-center my-3"},"後台",-1),O=[M];function W(t,a,c,p,m,r){const o=l("AdminNavBar"),d=l("RouterView");return _(),h(f,null,[s(o),this.$route.path==="/admin"?(_(),h("section",L,O)):$("",!0),s(d)],64)}const z=u(F,[["render",W]]);export{z as default};
