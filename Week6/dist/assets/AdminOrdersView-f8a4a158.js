import{M as g}from"./modal-4d9cea6b.js";import{_ as m,o as d,c as r,e as t,t as n,b as $,r as h,F as u,f,g as _,aq as M}from"./index-36529d55.js";import{T as A,u as y}from"./TheLoading-93860078.js";const v={data(){return{modal:{},orderId:""}},methods:{openModal(s){this.modal.show(),this.orderId=s}},mounted(){this.modal=new g(this.$refs.modal)}},x={class:"modal",ref:"modal",tabindex:"-1"},D={class:"modal-dialog"},I={class:"modal-content"},w=t("div",{class:"modal-header"},[t("h2",null,"這個人很懶甚麼都還沒做"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),T={class:"modal-body"},V=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),t("button",{type:"button",class:"btn btn-primary"},"Save changes")],-1);function E(s,e,l,i,a,c){return d(),r("div",x,[t("div",D,[t("div",I,[w,t("div",T,[t("p",null,"訂單編號 "+n(a.orderId),1)]),V])])],512)}const O=m(v,[["render",E]]),{VITE_API:P,VITE_API_PATH:k}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"benson-vue3",BASE_URL:"/Vue3-training-2022-Winter/Week6/dist/",MODE:"production",DEV:!1,PROD:!0},C={components:{AdminOrderModal:O,TheLoading:A},data(){return{orders:[],pagination:{}}},mounted(){this.doAjax(),this.getOrders()},computed:{orderDate(){return this.orders.create_at}},methods:{...$(y,["doAjax"]),getOrders(){const s=`${P}/api/${k}/admin/orders`;this.$http.get(s).then(e=>{this.orders=e.data.orders})},createDate(s){const e=new Date(s*1e3),l=e.getFullYear(),i=e.getMonth()+1>=10?e.getMonth()+1:`0${e.getMonth()+1}`,a=e.getDate()>=10?e.getDate():`0${e.getDate()}`;return`${l}/${i}/${a}`},openModal(s){this.$refs.orderModal.openModal(s)}}},L=t("h2",{class:"text-center my-3"},"訂單列表",-1),B={class:"table mt-4 container"},S=t("thead",null,[t("tr",null,[t("th",{width:"15%"},"訂單日期"),t("th",{width:"25%"},"訂單編號"),t("th",{width:"20%"},"訂購人"),t("th",{width:"20%"},"信箱"),t("th",{width:"10%"},"訂單狀態"),t("th",{width:"10%"},"操作")])],-1),F=["onClick"];function j(s,e,l,i,a,c){const p=h("AdminOrderModal"),b=h("TheLoading");return d(),r(u,null,[L,t("table",B,[S,t("tbody",null,[(d(!0),r(u,null,f(a.orders,o=>(d(),r("tr",{key:o.id,class:"align-middle"},[t("td",null,n(c.createDate(o.create_at)),1),t("td",null,n(o.id),1),t("td",null,n(o.user.name),1),t("td",null,n(o.user.email),1),t("td",null,[t("span",{class:M({"text-success":o.is_paid,"text-danger":!o.is_paid})},n(o.is_paid?"已付款":"未付款"),3)]),t("td",null,[t("button",{class:"btn btn-outline-primary",type:"button",onClick:H=>c.openModal(o.id)}," 編輯 ",8,F)])]))),128))])]),_(p,{ref:"orderModal"},null,512),_(b)],64)}const q=m(C,[["render",j]]);export{q as default};
