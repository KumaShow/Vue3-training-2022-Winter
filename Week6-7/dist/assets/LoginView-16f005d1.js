import{_ as p,u as _,b as h,r as i,o as f,c as g,g as l,e,x as v,w as c,v as d,F as w}from"./index-e4284eff.js";import{T}from"./TheToastMessage-9a4b64ea.js";import{u as x}from"./useToastMessageStore-735ffa67.js";const{VITE_API:b}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"benson-vue3",BASE_URL:"/Vue3-training-2022-Winter/Week6-7/dist/",MODE:"production",DEV:!1,PROD:!0},V={components:{TheToastMessage:T,FrontNavBar:_},data(){return{user:{}}},methods:{...h(x,["pushMessage"]),signIn(){this.$http.post(`${b}/admin/signin`,this.user).then(n=>{const{token:s,expired:r}=n.data;document.cookie=`hexToken=${s}; expires=${new Date(r)};`,this.$router.push("/admin"),this.pushMessage({title:"登入成功"})}).catch(()=>{this.pushMessage({style:"danger",title:"登入失敗，請重新登入",content:"請確認帳號密碼是否正確"})})}}},M={class:"login d-flex justify-content-center align-items-center position-relative"},I={class:"w-25"},y=e("h1",{class:"h3 mb-3 font-weight-normal text-center"},"登入後台",-1),E={class:"form-floating mb-3"},B=e("label",{for:"username"},"Email address",-1),P={class:"form-floating"},k=e("label",{for:"password"},"Password",-1),A=e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function D(n,s,r,F,o,a){const u=i("FrontNavBar"),m=i("TheToastMessage");return f(),g(w,null,[l(u),e("div",M,[e("div",I,[y,e("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=v((...t)=>a.signIn&&a.signIn(...t),["prevent"]))},[e("div",E,[c(e("input",{type:"email",class:"form-control",id:"username","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t),placeholder:"name@example.com",required:"",autofocus:""},null,512),[[d,o.user.username]]),B]),e("div",P,[c(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t),placeholder:"Password",required:""},null,512),[[d,o.user.password]]),k]),A],32)]),l(m)])],64)}const U=p(V,[["render",D]]);export{U as default};
